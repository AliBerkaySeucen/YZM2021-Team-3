{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{toast}from'react-toastify';import apiService from'../services/api';import'./Auth.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ForgotPassword=()=>{const navigate=useNavigate();const[email,setEmail]=useState('');const[message,setMessage]=useState('');const[error,setError]=useState('');const[isLoading,setIsLoading]=useState(false);const handleSubmit=async e=>{e.preventDefault();setError('');setMessage('');if(!email.trim()){setError('Please enter your email address');return;}// Email validation\nconst emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!emailRegex.test(email)){setError('Please enter a valid email address');return;}setIsLoading(true);try{const response=await apiService.forgotPassword(email);setMessage(response.message);toast.info(response.message);setEmail('');}catch(err){var _err$response,_err$response$data;const errorMsg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||err.message||'Sıfırlama linki gönderilemedi. Lütfen tekrar deneyin.';setError(errorMsg);toast.error(errorMsg);}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"auth-header-bar\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"auth-logo\",onClick:()=>navigate('/'),children:\"MemoLink\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-nav\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Hesab\\u0131n yok mu?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-nav-secondary\",onClick:()=>navigate('/signup'),children:\"Kay\\u0131t Ol \\u2192\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-content\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"auth-title\",children:\"\\u015Eifreni mi Unuttun?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"auth-subtitle\",children:\"Email adresini gir, s\\u0131f\\u0131rlama linki g\\xF6nderelim\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"auth-form\",onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"auth-error\",children:error}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"auth-success\",children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Email Adresi\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-input\",placeholder:\"Kay\\u0131tl\\u0131 email adresini gir\",value:email,onChange:e=>setEmail(e.target.value),disabled:isLoading})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"auth-button\",disabled:isLoading,children:isLoading?'Gönderiliyor...':'Sıfırlama Linki Gönder'}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-footer\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u015Eifreni hat\\u0131rlad\\u0131n m\\u0131? \"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"auth-link\",onClick:()=>navigate('/login'),children:\"Giri\\u015F Yap\"})]})]})]})})]});};export default ForgotPassword;","map":{"version":3,"names":["React","useState","useNavigate","toast","apiService","jsx","_jsx","jsxs","_jsxs","ForgotPassword","navigate","email","setEmail","message","setMessage","error","setError","isLoading","setIsLoading","handleSubmit","e","preventDefault","trim","emailRegex","test","response","forgotPassword","info","err","_err$response","_err$response$data","errorMsg","data","detail","className","children","onClick","onSubmit","type","placeholder","value","onChange","target","disabled"],"sources":["/Users/berat/YZM2021-Team-3/src/pages/ForgotPassword.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport apiService from '../services/api';\nimport './Auth.css';\n\nconst ForgotPassword: React.FC = () => {\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setMessage('');\n\n    if (!email.trim()) {\n      setError('Please enter your email address');\n      return;\n    }\n\n    // Email validation\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      setError('Please enter a valid email address');\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      const response = await apiService.forgotPassword(email);\n      setMessage(response.message);\n      toast.info(response.message);\n      setEmail('');\n    } catch (err: any) {\n      const errorMsg = err.response?.data?.detail || err.message || 'Sıfırlama linki gönderilemedi. Lütfen tekrar deneyin.';\n      setError(errorMsg);\n      toast.error(errorMsg);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <header className=\"auth-header-bar\">\n        <h1 className=\"auth-logo\" onClick={() => navigate('/')}>MemoLink</h1>\n        <div className=\"auth-nav\">\n          <span>Hesabın yok mu?</span>\n          <button className=\"btn-nav-secondary\" onClick={() => navigate('/signup')}>\n            Kayıt Ol →\n          </button>\n        </div>\n      </header>\n\n      <div className=\"auth-main\">\n        <div className=\"auth-content\">\n          <h2 className=\"auth-title\">Şifreni mi Unuttun?</h2>\n          <p className=\"auth-subtitle\">Email adresini gir, sıfırlama linki gönderelim</p>\n\n          <form className=\"auth-form\" onSubmit={handleSubmit}>\n\n            {error && <div className=\"auth-error\">{error}</div>}\n            {message && <div className=\"auth-success\">{message}</div>}\n\n            <div className=\"form-group\">\n              <label className=\"form-label\">Email Adresi</label>\n              <input\n                type=\"email\"\n                className=\"form-input\"\n                placeholder=\"Kayıtlı email adresini gir\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                disabled={isLoading}\n              />\n            </div>\n\n            <button type=\"submit\" className=\"auth-button\" disabled={isLoading}>\n              {isLoading ? 'Gönderiliyor...' : 'Sıfırlama Linki Gönder'}\n            </button>\n\n            <div className=\"auth-footer\">\n              <span>Şifreni hatırladın mı? </span>\n              <button type=\"button\" className=\"auth-link\" onClick={() => navigate('/login')}>\n                Giriş Yap\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ForgotPassword;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,KAAK,KAAQ,gBAAgB,CACtC,MAAO,CAAAC,UAAU,KAAM,iBAAiB,CACxC,MAAO,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpB,KAAM,CAAAC,cAAwB,CAAGA,CAAA,GAAM,CACrC,KAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACS,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACgB,SAAS,CAAEC,YAAY,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAEjD,KAAM,CAAAkB,YAAY,CAAG,KAAO,CAAAC,CAAkB,EAAK,CACjDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBL,QAAQ,CAAC,EAAE,CAAC,CACZF,UAAU,CAAC,EAAE,CAAC,CAEd,GAAI,CAACH,KAAK,CAACW,IAAI,CAAC,CAAC,CAAE,CACjBN,QAAQ,CAAC,iCAAiC,CAAC,CAC3C,OACF,CAEA;AACA,KAAM,CAAAO,UAAU,CAAG,4BAA4B,CAC/C,GAAI,CAACA,UAAU,CAACC,IAAI,CAACb,KAAK,CAAC,CAAE,CAC3BK,QAAQ,CAAC,oCAAoC,CAAC,CAC9C,OACF,CAEAE,YAAY,CAAC,IAAI,CAAC,CAElB,GAAI,CACF,KAAM,CAAAO,QAAQ,CAAG,KAAM,CAAArB,UAAU,CAACsB,cAAc,CAACf,KAAK,CAAC,CACvDG,UAAU,CAACW,QAAQ,CAACZ,OAAO,CAAC,CAC5BV,KAAK,CAACwB,IAAI,CAACF,QAAQ,CAACZ,OAAO,CAAC,CAC5BD,QAAQ,CAAC,EAAE,CAAC,CACd,CAAE,MAAOgB,GAAQ,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACjB,KAAM,CAAAC,QAAQ,CAAG,EAAAF,aAAA,CAAAD,GAAG,CAACH,QAAQ,UAAAI,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcG,IAAI,UAAAF,kBAAA,iBAAlBA,kBAAA,CAAoBG,MAAM,GAAIL,GAAG,CAACf,OAAO,EAAI,uDAAuD,CACrHG,QAAQ,CAACe,QAAQ,CAAC,CAClB5B,KAAK,CAACY,KAAK,CAACgB,QAAQ,CAAC,CACvB,CAAC,OAAS,CACRb,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAED,mBACEV,KAAA,QAAK0B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B3B,KAAA,WAAQ0B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eACjC7B,IAAA,OAAI4B,SAAS,CAAC,WAAW,CAACE,OAAO,CAAEA,CAAA,GAAM1B,QAAQ,CAAC,GAAG,CAAE,CAAAyB,QAAA,CAAC,UAAQ,CAAI,CAAC,cACrE3B,KAAA,QAAK0B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB7B,IAAA,SAAA6B,QAAA,CAAM,sBAAe,CAAM,CAAC,cAC5B7B,IAAA,WAAQ4B,SAAS,CAAC,mBAAmB,CAACE,OAAO,CAAEA,CAAA,GAAM1B,QAAQ,CAAC,SAAS,CAAE,CAAAyB,QAAA,CAAC,sBAE1E,CAAQ,CAAC,EACN,CAAC,EACA,CAAC,cAET7B,IAAA,QAAK4B,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxB3B,KAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B7B,IAAA,OAAI4B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,0BAAmB,CAAI,CAAC,cACnD7B,IAAA,MAAG4B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,6DAA8C,CAAG,CAAC,cAE/E3B,KAAA,SAAM0B,SAAS,CAAC,WAAW,CAACG,QAAQ,CAAElB,YAAa,CAAAgB,QAAA,EAEhDpB,KAAK,eAAIT,IAAA,QAAK4B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEpB,KAAK,CAAM,CAAC,CAClDF,OAAO,eAAIP,IAAA,QAAK4B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEtB,OAAO,CAAM,CAAC,cAEzDL,KAAA,QAAK0B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB7B,IAAA,UAAO4B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,cAAY,CAAO,CAAC,cAClD7B,IAAA,UACEgC,IAAI,CAAC,OAAO,CACZJ,SAAS,CAAC,YAAY,CACtBK,WAAW,CAAC,sCAA4B,CACxCC,KAAK,CAAE7B,KAAM,CACb8B,QAAQ,CAAGrB,CAAC,EAAKR,QAAQ,CAACQ,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAE,CAC1CG,QAAQ,CAAE1B,SAAU,CACrB,CAAC,EACC,CAAC,cAENX,IAAA,WAAQgC,IAAI,CAAC,QAAQ,CAACJ,SAAS,CAAC,aAAa,CAACS,QAAQ,CAAE1B,SAAU,CAAAkB,QAAA,CAC/DlB,SAAS,CAAG,iBAAiB,CAAG,wBAAwB,CACnD,CAAC,cAETT,KAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B7B,IAAA,SAAA6B,QAAA,CAAM,6CAAuB,CAAM,CAAC,cACpC7B,IAAA,WAAQgC,IAAI,CAAC,QAAQ,CAACJ,SAAS,CAAC,WAAW,CAACE,OAAO,CAAEA,CAAA,GAAM1B,QAAQ,CAAC,QAAQ,CAAE,CAAAyB,QAAA,CAAC,gBAE/E,CAAQ,CAAC,EACN,CAAC,EACF,CAAC,EACJ,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}